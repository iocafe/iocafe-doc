
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>IOCOM library use scenarios &#8212; iocafe 0.1 documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="MIT license" href="190625-license.html" />
    <link rel="prev" title="Design goals" href="180812-design-goals.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="iocom-library-use-scenarios">
<h1>IOCOM library use scenarios<a class="headerlink" href="#iocom-library-use-scenarios" title="Permalink to this headline">¶</a></h1>
<p>The IOCOM and underlying operating system abstraction layer, EOSAL are scaled to abstraction level needed by application. This effects greatly to burden of complexity put on  the developer and on resources of underlaying devices.  We have to consider chooses below, “more the merrier” doesn’t hold: Each yes will add complexity to the developer and require additional resources.</p>
<ul class="simple">
<li>Use single thread or multi-thread model?</li>
<li>Do we need transport layer security and device identification?</li>
<li>Do we want to handle signals, not just bytes of shared memory.</li>
<li>Do we use signal names  to map the data between devices instead of plain numeric memory addresses?</li>
<li>Is dynamic configuration of IO device network needed?</li>
<li>Do we want also the application to be portable between micro-controllers and development environments?</li>
</ul>
<p>Idea here: The requirement for different components of IO network vary. The IOCOM library is linked to both ends of of the communication, and provides IO network level infrastructure for both.  The library is scaled to suit it’s use and environment.</p>
<div class="section" id="communication-between-two-devices">
<h2>Communication between two devices<a class="headerlink" href="#communication-between-two-devices" title="Permalink to this headline">¶</a></h2>
<p>This is the simple case, I want my ESP32 to exchange data with my PC, or my Arduino to speak to Raspberry. Werther the communication is Ethernet, WiFi, serial port or  blue tooth doesn’t really change how to do it, but effects to device resource use.
We need minimal abstraction, single thread model and data treated as transferred bytes within memory block is enough. My personal choice for this would be to add signals with JSON configuration to the mix, but otherwise to keep it in minimum.</p>
<p>In industrial environment TLS and device identification may be required for simple device to device network communication, which adds to complexity.</p>
</div>
<div class="section" id="io-interface-for-a-complex-automation-device">
<h2>IO interface for a complex automation device<a class="headerlink" href="#io-interface-for-a-complex-automation-device" title="Permalink to this headline">¶</a></h2>
<p>Often an automation device contains a controlling computer (controller) and bunch of IO cards which connect to the control computer. Here the controller knows the IO cards which may connect it. Using signal configuration JSONs allows us to generate C code for both IO card and controller to use same signal map to communicate, for example to allow controller to set a “led_builtin” output on iocard “gina”.</p>
<ul class="simple">
<li>Here I would use single thread model for the IO device and multi thread model for the controller, signal setup in
JSON and statically compile the signal maps (generated from JSONs) in both cotroller and IO devices. TLS and device
identification would also be necessary in industrial environment.</li>
<li>Current test/example code for controller: tito</li>
<li>Current test/example code for IO device: gina</li>
</ul>
</div>
<div class="section" id="iot-and-cloud">
<h2>IoT and cloud<a class="headerlink" href="#iot-and-cloud" title="Permalink to this headline">¶</a></h2>
<p>In cloud application we typically have one server maintaining IO networks for multiple users. All Pekka’s devices must belong to ‘pekkanet’ IO network and speak with each others. At same time the same server takes care of Markku’s devices, which belong to ‘markkunet’. No data must flow between ‘pekkanet’ and ‘markkunet’ in normal operating mode.
I cloud server we need practically the whole IOCOM in maximum extent:</p>
<ul class="simple">
<li>We need to be dynamically create IO device networks and and IO devices within these networks, map signals by name, etc.</li>
<li>We often need user interface for an IO network. Let’s say ‘pekkanet’ is my home automation IO network, and I
want to control and monitor it using either dedicated application or web browser.</li>
<li>Security is paramount. Cloud server must identify itself and present certificate signed by entry which is recognized
by IO devices (chain of trust). IO device must identify itself with user name and password. All communication must be
TLS sockets.</li>
<li>Current test/example code for cloud server: frank, claudia</li>
</ul>
</div>
<div class="section" id="mix-and-match">
<h2>Mix and match<a class="headerlink" href="#mix-and-match" title="Permalink to this headline">¶</a></h2>
<p>The scenarios above are only the ones I was thinking. All functionality can be used at any level, for example we can create IO device which chains other IO devices, or we can use cloud level abstraction running at local network server.</p>
</div>
<div class="section" id="note-about-pins-library">
<h2>Note about pins library<a class="headerlink" href="#note-about-pins-library" title="Permalink to this headline">¶</a></h2>
<p>There is optional pins library which allows setting up IO device’s pins as JSON. Ideas:</p>
<ul class="simple">
<li>Microcontroller, platform and development tool independent</li>
<li>Generates C code from JSON to set/get pin states from IO device code and to map the pins to IOCOM signals.</li>
</ul>
<p>If you question is pins library needed, you are probably better off without it. Reading and writing IO pins using platform tools is just fine. Application portability from hardware or platform to another, or PC simulation, are not in “to do” list of many projects. In this case using pins is just unnecessary complexity.</p>
<p>191122, updated 20.5.2020/pekka</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">iocafe</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../introduction.html">Introduction</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="general.html">General</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../get-started/get-started.html">Get started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api-reference/api-reference.html">API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../implementation/implementation.html">Library implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../platform-abstraction/platform-abstraction.html">Platform abstraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hw-io-abstraction/hw-io-abstraction.html">Hardware IO abstraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extensions/extensions.html">Extension libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/dev-tools.html">Development tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../micro-controllers/micro-controllers.html">Micro-controllers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/examples.html">Example projects</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../introduction.html">Introduction</a><ul>
  <li><a href="general.html">General</a><ul>
      <li>Previous: <a href="180812-design-goals.html" title="previous chapter">Design goals</a></li>
      <li>Next: <a href="190625-license.html" title="next chapter">MIT license</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Pekka Lehtikoski, Markku Nissinen.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.0.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/introduction/general/191122-use-scenarios.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>